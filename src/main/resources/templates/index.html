<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÎÇ¥ ÏùºÏ†ï Í¥ÄÎ¶¨</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <!-- Fixed Header -->
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">üìÖ</span>
                    <span class="logo-text">ÎÇ¥ ÏùºÏ†ï</span>
                </div>
                <div class="header-date" id="todayDate"></div>
            </div>
        </div>
    </header>

    <div class="main-content">
        <div class="container py-4">

            <!-- Îπ†Î•∏ Îì±Î°ù Î≤ÑÌäº -->
            <section class="quick-actions mb-4">
                <h2 class="section-title">Îπ†Î•∏ Îì±Î°ù</h2>
                <div class="quick-actions-grid">
                    <button class="btn btn-quick btn-hospital" onclick="openQuickModal('hospital')">
                        <span class="bi bi-hospital"></span>
                        <span class="label">Î≥ëÏõê</span>
                    </button>
                    <button class="btn btn-quick btn-medicine" onclick="openQuickModal('medicine')">
                        <span class="bi bi-capsule"></span>
                        <span class="label">ÏïΩ Î≥µÏö©</span>
                    </button>
                </div>
            </section>

            <!-- Ïò§Îäò ÏùºÏ†ï -->
            <section class="today-schedules mb-4">
                <div class="section-header">
                    <h2 class="section-title">Ïò§Îäò Ìï† Ïùº</h2>
                    <span class="count-badge" id="todayCount">0</span>
                </div>
            <div id="todayList" class="schedule-list">
                <div class="text-center text-muted py-4">Ïò§Îäò ÏùºÏ†ïÏù¥ ÏóÜÏäµÎãàÎã§</div>
            </div>
            </section>

            <!-- Ïù¥Î≤à Ï£º ÏùºÏ†ï -->
            <section class="week-schedules mb-4">
                <div class="section-header">
                    <h2 class="section-title">Ïù¥Î≤à Ï£º ÏùºÏ†ï</h2>
                    <div class="header-actions">
                        <button class="btn-toggle" id="weekToggle" onclick="toggleWeekList()">Ï†ëÍ∏∞ ‚ñ≤</button>
                        <a href="/calendar" class="btn-link">Îã¨Î†• Î≥¥Í∏∞</a>
                    </div>
                </div>
            <div id="weekList" class="schedule-list">
                <div class="text-center text-muted py-4">Ïù¥Î≤à Ï£º ÏùºÏ†ïÏù¥ ÏóÜÏäµÎãàÎã§</div>
            </div>
            </section>
        </div>
    </div>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="container">
            <p class="footer-text">¬© 2026 ÏãúÎãàÏñ¥ ÏùºÏ†ï Í¥ÄÎ¶¨</p>
        </div>
    </footer>

    <!-- Îπ†Î•∏ Îì±Î°ù Î™®Îã¨ -->
    <div class="modal fade" id="quickModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="quickModalTitle">Îπ†Î•∏ Îì±Î°ù</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body compact-modal">
                    <form id="quickForm">
                        <input type="hidden" id="quickType">
                        <input type="hidden" id="quickDate" required>
                        <input type="hidden" id="quickTime">
                        <div class="mb-2">
                            <label class="form-label fw-bold mb-1">Ï†úÎ™©</label>
                            <input type="text" class="form-control" id="quickTitle" 
                                   placeholder="Ïòà: ÎÇ¥Í≥º ÏßÑÎ£å" required>
                        </div>
                        <div class="mb-2">
                            <label class="form-label fw-bold mb-1">ÎÇ†Ïßú</label>
                            <div class="btn-group-compact">
                                <button type="button" class="btn btn-date-option active" data-days="0">Ïò§Îäò</button>
                                <button type="button" class="btn btn-date-option" data-days="1">ÎÇ¥Ïùº</button>
                                <button type="button" class="btn btn-date-option" data-days="2">Î™®Î†à</button>
                                <button type="button" class="btn btn-date-option" data-days="custom">ÏÑ†ÌÉù</button>
                            </div>
                            <div id="quickCustomDateWrap" class="mt-1" style="display:none;">
                                <input type="date" class="form-control" id="quickCustomDate">
                            </div>
                        </div>
                        <div class="mb-2" id="quickTimeSection">
                            <label class="form-label fw-bold mb-1">ÏãúÍ∞Ñ <span id="quickTimeHint" class="text-muted" style="font-size:0.8rem; font-weight:normal;"></span></label>
                            <div class="btn-group-compact">
                                <button type="button" class="btn btn-time-option" data-time="08:00">ÏïÑÏπ® 8Ïãú</button>
                                <button type="button" class="btn btn-time-option" data-time="12:00">Ï†êÏã¨ 12Ïãú</button>
                                <button type="button" class="btn btn-time-option" data-time="18:00">Ï†ÄÎÖÅ 6Ïãú</button>
                            </div>
                        </div>
                        <div class="mb-2" id="quickRecurringSection" style="display:none;">
                            <label class="form-label fw-bold mb-1">Î∞òÎ≥µ</label>
                            <div class="btn-group-compact">
                                <button type="button" class="btn btn-repeat-option" data-repeat="NONE">Î∞òÎ≥µ ÏóÜÏùå</button>
                                <button type="button" class="btn btn-repeat-option" data-repeat="DAILY_3">3Ïùº Î∞òÎ≥µ</button>
                                <button type="button" class="btn btn-repeat-option" data-repeat="DAILY_7">7Ïùº Î∞òÎ≥µ</button>
                            </div>
                        </div>
                        <input type="hidden" id="quickRecurring">
                        <input type="hidden" id="quickRecurringType">
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-lg" data-bs-dismiss="modal">Ï∑®ÏÜå</button>
                    <button type="button" class="btn btn-primary btn-lg" onclick="submitQuickForm()">Îì±Î°ù</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ÏùºÏ†ï ÏÉÅÏÑ∏/ÏàòÏ†ï Î™®Îã¨ -->
    <div class="modal fade" id="scheduleModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="scheduleModalTitle">ÏùºÏ†ï Îì±Î°ù</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body compact-modal">
                    <form id="scheduleForm">
                        <input type="hidden" id="scheduleId">
                        <input type="hidden" id="scheduleDate" required>
                        <input type="hidden" id="scheduleTime">
                        <div class="mb-2">
                            <label class="form-label fw-bold mb-1">Ïπ¥ÌÖåÍ≥†Î¶¨</label>
                            <select class="form-select" id="scheduleCategory" required>
                            </select>
                        </div>
                        <div class="mb-2">
                            <label class="form-label fw-bold mb-1">Ï†úÎ™©</label>
                            <input type="text" class="form-control" id="scheduleTitle" required>
                        </div>
                        <div class="mb-2">
                            <label class="form-label fw-bold mb-1">ÎÇ†Ïßú</label>
                            <div class="btn-group-compact" id="scheduleDatePicker">
                                <button type="button" class="btn btn-date-option active" data-days="0">Ïò§Îäò</button>
                                <button type="button" class="btn btn-date-option" data-days="1">ÎÇ¥Ïùº</button>
                                <button type="button" class="btn btn-date-option" data-days="2">Î™®Î†à</button>
                                <button type="button" class="btn btn-date-option" data-days="custom">ÏÑ†ÌÉù</button>
                            </div>
                            <div id="scheduleCustomDateWrap" class="mt-1" style="display:none;">
                                <input type="date" class="form-control" id="scheduleCustomDate">
                            </div>
                        </div>
                        <div class="mb-2">
                            <label class="form-label fw-bold mb-1">ÏãúÍ∞Ñ</label>
                            <div class="btn-group-compact" id="scheduleTimePicker">
                                <button type="button" class="btn btn-time-option" data-time="08:00">ÏïÑÏπ® 8Ïãú</button>
                                <button type="button" class="btn btn-time-option" data-time="12:00">Ï†êÏã¨ 12Ïãú</button>
                                <button type="button" class="btn btn-time-option" data-time="18:00">Ï†ÄÎÖÅ 6Ïãú</button>
                            </div>
                        </div>
                        <div class="mb-2">
                            <label class="form-label fw-bold mb-1">Î©îÎ™®</label>
                            <textarea class="form-control" id="scheduleDesc" rows="1"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger btn-lg me-auto" id="btnDeleteSchedule" 
                            style="display:none" onclick="deleteSchedule()">ÏÇ≠Ï†ú</button>
                    <button type="button" class="btn btn-secondary btn-lg" data-bs-dismiss="modal">Ï∑®ÏÜå</button>
                    <button type="button" class="btn btn-primary btn-lg" onclick="submitScheduleForm()">Ï†ÄÏû•</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/app.js"></script>
</body>
</html>
